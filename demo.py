"""
Demo Script for ctrLLM
Demonstrates basic usage and examples
"""

from ctrllm import TextMetrics, print_summary, save_results


def main():
    print("="*60)
    print("ctrLLM DEMO")
    print("Controversial Topic Representation in LLM")
    print("="*60)
    
    # Initialize
    print("\nInitializing TextMetrics...")
    metrics = TextMetrics(lang='en')
    print("✓ Initialized")
    
    # Example text about a controversial topic
    text = """ 
    The 2003 invasion of Iraq was the first stage of the Iraq War. The invasion began on 20 March 2003 and lasted just over one month, including 26 days of major combat operations, in which a United States-led combined force of troops from the United States, the United Kingdom, Australia and Poland invaded the Republic of Iraq. Twenty-two days after the first day of the invasion, the capital city of Baghdad was captured by coalition forces on 9 April after the six-day-long Battle of Baghdad. This early stage of the war formally ended on 1 May when U.S. President George W. Bush declared the \"end of major combat operations\" in his Mission Accomplished speech, after which the Coalition Provisional Authority (CPA) was established as the first of several successive transitional governments leading up to the first Iraqi parliamentary election in January 2005. U.S. military forces later remained in Iraq until the withdrawal in 2011.\nThe coalition sent 160,000 troops into Iraq during the initial invasion phase, which lasted from 19 March to 1 May. About 73% or 130,000 soldiers were American, with about 45,000 British soldiers (25%), 2,000 Australian soldiers (1%), and about 200 Polish JW GROM commandos (0.1%). Thirty-six other countries were involved in its aftermath. In preparation for the invasion, 100,000 U.S. troops assembled in Kuwait by 18 February. The coalition forces also received support from the Peshmerga in Iraqi Kurdistan.\nAccording to U.S. President George W. Bush and UK Prime Minister Tony Blair, the coalition aimed \"to disarm Iraq of weapons of mass destruction [WMDs], to end Saddam Hussein's support for terrorism, and to free the Iraqi people\", even though the UN inspection team led by Hans Blix had declared it had found no evidence of the existence of WMDs just before the start of the invasion. Others place a much greater emphasis on the impact of the September 11 attacks, on the role this played in changing U.S. strategic calculations, and the rise of the freedom agenda. According to Blair, the trigger was Iraq's failure to take a \"final opportunity\" to disarm itself of alleged nuclear, chemical, and biological weapons that U.S. and British officials called an immediate and intolerable threat to world peace.\nIn a January 2003 CBS poll, 64% of Americans had approved of military action against Iraq; however, 63% wanted Bush to find a diplomatic solution rather than go to war, and 62% believed the threat of terrorism directed against the U.S. would increase due to such a war. The invasion was strongly opposed by some long-standing U.S. allies, including the governments of France, Germany, and New Zealand. Their leaders argued that there was no evidence of weapons of mass destruction in Iraq and that invading that country was not justified in the context of UNMOVIC's 12 February 2003 report. About 5,000 largely unusable chemical warheads, shells or aviation bombs were discovered during the Iraq War, but these had been built and abandoned earlier in Saddam Hussein's rule before the 1991 Gulf War. The discoveries of these chemical weapons did not support the government's invasion rationale. In September 2004, Kofi Annan, United Nations Secretary-General at the time, called the invasion illegal under international law and said it was a breach of the UN Charter.\nOn 15 February 2003, a month before the invasion, there were worldwide protests against the Iraq War, including a rally of three million people in Rome, which the Guinness World Records listed as the largest-ever anti-war rally. According to the French academic Dominique Reynié, between 3 January and 12 April 2003, 36 million people across the globe took part in almost 3,000 protests against the Iraq war.\nThe invasion was preceded by an airstrike on the Presidential Palace in Baghdad on 20 March 2003. The following day, coalition forces launched an incursion into Basra Governorate from their massing point close to the Iraqi-Kuwaiti border. While special forces launched an amphibious assault from the Persian Gulf to secure Basra and the surrounding petroleum fields, the main invasion army moved into southern Iraq, occupying the region and engaging in the Battle of Nasiriyah on 23 March. Massive air strikes across the country and against Iraqi command and control threw the defending army into chaos and prevented an effective resistance. On 26 March, the 173rd Airborne Brigade was airdropped near the northern city of Kirkuk, where they joined forces with Kurdish rebels and fought several actions against the Iraqi Army, to secure the northern part of the country.\nThe main body of coalition forces continued their drive into the heart of Iraq and were met with little resistance. Most of the Iraqi military was quickly defeated and the coalition occupied Baghdad on 9 April. Other operations occurred against pockets of the Iraqi Army, including the capture and occupation of Kirkuk on 10 April, and the attack on and capture of Tikrit on 15 April. Iraqi president Saddam Hussein and the central leadership went into hiding as the coalition forces completed the occupation of the country. On 1 May, President George W. Bush declared an end to major combat operations: this ended the invasion period and began the period of military occupation. Saddam Hussein was captured by U.S. forces on 13 December.\nHostilities of the Gulf War were suspended on 28 February 1991, with a cease-fire negotiated between the UN coalition and Iraq. The U.S. and its allies tried to keep Saddam in check with military actions such as Operation Southern Watch, which was conducted by Joint Task Force Southwest Asia (JTF-SWA) with the mission of monitoring and controlling airspace south of the 32nd Parallel (extended to the 33rd Parallel in 1996) as well as using economic sanctions. It was revealed that a biological weapons (BW) program in Iraq had begun in the early 1980s with help from the U.S. and Europe who were unaware of Iraq's intentions, in violation of the Biological Weapons Convention (BWC) of 1972. Details of the BW program—along with a chemical weapons program—surfaced after the Gulf War (1990–91) following investigations conducted by the United Nations Special Commission (UNSCOM) which had been charged with the post-war disarmament of Saddam's Iraq. The investigation concluded that the program had not continued after the war. The U.S. and its allies then maintained a policy of \"containment\" towards Iraq. This policy involved numerous economic sanctions by the UN Security Council; the enforcement of Iraqi no-fly zones declared by the U.S. and the UK to protect the Kurds in Iraqi Kurdistan and Shias in the south from aerial attacks by the Iraqi government; and ongoing inspections. Iraqi military helicopters and planes regularly contested the no-fly zones.\nIn October 1998, removing the Iraqi government became official U.S. foreign policy with enactment of the Iraq Liberation Act. Enacted following the expulsion of UN weapons inspectors the preceding August (after some had been accused of spying for the U.S.), the act provided $97 million for Iraqi \"democratic opposition organizations\" to \"establish a program to support a transition to democracy in Iraq.\" This legislation contrasted with the terms set out in United Nations Security Council Resolution 687, which focused on weapons and weapons programs and made no mention of regime change. One month after the passage of the Iraq Liberation Act, the U.S. and UK launched a bombardment campaign of Iraq called Operation Desert Fox. The campaign's express rationale was to hamper Saddam Hussein's government's ability to produce chemical, biological, and nuclear weapons, but U.S. intelligence personnel also hoped it would help weaken Saddam's grip on power.\nWith the election of George W. Bush as president in 2000, the U.S. moved towards a more aggressive policy toward Iraq. The Republican Party's campaign platform in the 2000 election called for \"full implementation\" of the Iraq Liberation Act as \"a starting point\" in a plan to \"remove\" Saddam. After leaving the George W. Bush administration, Treasury Secretary Paul O'Neill said that an attack on Iraq had been planned since Bush's inauguration and that the first United States National Security Council meeting involved discussion of an invasion. O'Neill later backtracked, saying that these discussions were part of a continuation of foreign policy first put into place by the Clinton administration. Despite the Bush administration's stated interest in invading Iraq, little formal movement towards an invasion occurred until the 11 September attacks.\nOn the morning of 11 September 2001, the Islamist terrorist organization al-Qaeda executed four coordinated attacks against the United States utilizing hijacked jet airliners to crash into major symbols of American economic and military power. Nearly 3000 people would be killed, while more than 6000 were injured. National Security Agency (NSA) intercept data available by midday of the 11th pointed to al-Qaeda's culpability in the attacks.\nBy mid-afternoon however, Secretary of Defense Donald Rumsfeld ordered the Pentagon to prepare plans for attacking Iraq. According to aides who were with him in the National Military Command Center on that day, Rumsfeld asked for: \"Best info fast. Judge whether good enough hit S.H.\" – meaning Saddam Hussein – \"at same time. Not only UBL\" (Osama bin Laden). According to the 9/11 Commission Report, \"Rumsfeld later explained that at the time, he had been considering either one of them, or perhaps someone else, as the responsible party.\"\nOn the evening of 12 September, President Bush ordered White House counter-terrorism coordinator Richard A. Clarke to investigate possible Iraqi involvement in the 9/11 attacks. Shocked by the sophistication of the attacks, Bush wondered whether a state sponsor was involved. Clarke's office issued a memo on 18 September that noted wide ideological gaps between Iraq to al-Qaeda, and that only weak anecdotal evidence linked the two. Similarly, a 21 September President's Daily Brief (prepared at Bush's request) indicated that the U.S. intelligence community had no evidence linking Saddam Hussein to the attacks and there was \"scant credible evidence that Iraq had any significant collaborative ties with Al Qaeda.\" The PDB wrote off the few contacts that existed between Saddam's government and al-Qaeda as attempts to monitor the group, not work with it.\nHowever, Vice President Dick Cheney and Defense Secretary Rumsfeld expressed skepticism toward's the CIA's intelligence. They questioned whether the CIA were competent enough to produce accurate information as the agency underestimated threats and failed to accurately predict events such as the Iranian Revolution, the Iraqi Invasion of Kuwait, and the collapse of the Soviet Union. They instead preferred outside analysis, of which information was supplied by the Iraqi National Congress as well as unvetted pieces of intelligence. This information alleged that a highly secretive relationship existed between Saddam and al-Qaeda from 1992, specifically through a series of meetings reportedly involving the Iraqi Intelligence Service (IIS). The rationale for invading Iraq as a response to 9/11 has been widely questioned, as there was no cooperation between Saddam Hussein and al-Qaeda.\nOn 20 September 2001, Bush addressed a joint session of Congress (telecast live to the world), and announced his new \"War on Terror\". This announcement was accompanied by the doctrine of \"pre-emptive\" military action, later termed the Bush Doctrine. On 21 November, Bush spoke with Rumsfeld and instructed him to conduct a confidential review of OPLAN 1003, the war plan for invading Iraq. Rumsfeld met with General Tommy Franks, the commander of US Central Command, on 27 November to go over the plans. A record of the meeting includes the question \"How start?\", listing multiple possible justifications for a US–Iraq War. Some Bush advisers favored an immediate invasion of Iraq, while others advocated building an international coalition and obtaining United Nations authorization. Bush eventually decided to seek UN authorization, while still reserving the option of invading without it.\nGeneral David Petraeus recalled in an interview his experience during the time before the invasion, stating that \"When we were getting ready for what became the invasion of Iraq, the prevailing wisdom was that we were going to have a long, hard fight to Baghdad, and it was really going to be hard to take Baghdad. The road to deployment, which was a very compressed road for the 101st Airborne Division, started with a seminar on military operations in urban terrain, because that was viewed as the decisive event in the takedown of the regime in Iraq — that and finding and destroying the weapons of mass destruction.\"\nWhile there had been some earlier talk of action against Iraq, the Bush administration waited until September 2002 to call for action, with White House Chief of Staff Andrew Card saying, \"From a marketing point of view, you don't introduce new products in August.\" Bush began formally making his case to the international community for an invasion of Iraq in his 12 September 2002 address to the United Nations General Assembly. Benjamin Netanyahu testified before US Congress on September 12, 2002 with an expert testimony, encouraging America to invade Iraq and stating that there is \"no question\" that Saddam is working on WMDs.\nThe United Kingdom agreed with the U.S. actions, while France and Germany were critical of plans to invade Iraq, arguing instead for continued diplomacy and weapons inspections. After considerable debate, the UN Security Council adopted a compromise resolution, UN Security Council Resolution 1441, which authorized the resumption of weapons inspections and promised \"serious consequences\" for non-compliance. Security Council members France and Russia made clear that they did not consider these consequences to include the use of force to overthrow the Iraqi government. Both the U.S. ambassador to the UN, John Negroponte, and the UK ambassador, Jeremy Greenstock, publicly confirmed this reading of the resolution, assuring that Resolution 1441 provided no \"automaticity\" or \"hidden triggers\" for an invasion without further consultation of the Security Council.\nResolution 1441 gave Iraq \"a final opportunity to comply with its disarmament obligations\" and set up inspections by the United Nations Monitoring, Verification and Inspection Commission (UNMOVIC) and the International Atomic Energy Agency (IAEA). Saddam accepted the resolution on 13 November and inspectors returned to Iraq under the direction of UNMOVIC chairman Hans Blix and IAEA Director-General Mohamed ElBaradei. As of February 2003, the IAEA \"found no evidence or plausible indication of the revival of a nuclear weapons program in Iraq\"; the IAEA concluded that certain items which could have been used in nuclear enrichment centrifuges, such as aluminum tubes, were in fact intended for other uses. UNMOVIC \"did not find evidence of the continuation or resumption of programs of weapons of mass destruction\" or significant quantities of proscribed items. UNMOVIC did supervise the destruction of a small number of empty chemical rocket warheads, 50 liters of mustard gas that had been declared by Iraq and sealed by UNSCOM in 1998, and laboratory quantities of a mustard gas precursor, along with about 50 Al-Samoud missiles of a design that Iraq stated did not exceed the permitted 150 km range, but which had traveled up to 183 km in tests. Shortly before the invasion, UNMOVIC stated that it would take \"months\" to verify Iraqi compliance with resolution 1441.\nIn October 2002, the U.S. Congress passed the Iraq Resolution, which authorized the President to \"use any means necessary\" against Iraq. Americans polled in January 2003 widely favored further diplomacy over an invasion. Later that year, however, Americans began to agree with Bush's plan. The U.S. government engaged in an elaborate domestic public relations campaign to market the war to its citizens. Americans overwhelmingly believed Saddam did have weapons of mass destruction: 85% said so, even though the inspectors had not uncovered those weapons. Of those who thought Iraq had weapons sequestered somewhere, about half responded that said weapons would not be found in combat. By February 2003, 64% of Americans supported taking military action to remove Saddam from power.\nIn the 2003 State of the Union address, President Bush said \"we know that Iraq, in the late 1990s, had several mobile biological weapons labs\". On 5 February 2003, U.S. Secretary of State Colin Powell addressed the United Nations General Assembly, continuing U.S. efforts to gain UN authorization for an invasion. His presentation to the UN Security Council contained a computer-generated image of a \"mobile biological weapons laboratory\". However, this information was based on claims of Rafid Ahmed Alwan al-Janabi, codenamed \"Curveball\", an Iraqi emigrant living in Germany who later admitted that his claims had been false.\nPowell also presented false assertions alleging Iraq had ties to al-Qaeda. As a follow-up to Powell's presentation, the United States, United Kingdom, Poland, Italy, Australia, Denmark, Japan, and Spain proposed a resolution authorizing the use of force in Iraq, but Canada, France, and Germany, together with Russia, strongly urged continued diplomacy. Facing a losing vote as well as a likely veto from France and Russia, the US, UK, Poland, Spain, Denmark, Italy, Japan, and Australia eventually withdrew their resolution.\nOpposition to the invasion coalesced in the worldwide 15 February 2003 anti-war protest that attracted between six and ten million people in more than 800 cities, the largest such protest in human history according to the Guinness Book of World Records.\nOn 16 March 2003, Spanish Prime Minister José María Aznar, UK Prime Minister Tony Blair, President of the United States George W. Bush, and Prime Minister of Portugal José Manuel Durão Barroso as host met in the Azores to discuss the invasion of Iraq and Spain's potential involvement in the war, as well as the beginning of the invasion. This encounter was extremely controversial in Spain, even now remaining a very sensitive point for the Aznar government. Almost a year later, Madrid suffered the worst terrorist attack in Europe since the Lockerbie bombing, motivated by Spain's decision to participate in the Iraq war, prompting some Spaniards to accuse the Prime Minister of being responsible.\nIn March 2003, the United States, United Kingdom, Poland, Australia, Spain, Denmark, and Italy began preparing for the invasion of Iraq, with a host of public relations and military moves. In his 17 March 2003 address to the nation, Bush demanded that Saddam and his two sons, Uday and Qusay, surrender and leave Iraq, giving them a 48-hour deadline.\nThe UK House of Commons held a debate on going to war on 18 March 2003 where the government motion was approved 412 to 149. The vote was a key moment in the history of the Blair administration, as the number of government MPs who rebelled against the vote was the greatest since the repeal of the Corn Laws in 1846. Three government ministers resigned in protest at the war, John Denham, Lord Hunt of Kings Heath, and the then Leader of the House of Commons Robin Cook. In a passionate speech to the House of Commons after his resignation, he said, \"What has come to trouble me is the suspicion that if the 'hanging chads' of Florida had gone the other way and Al Gore had been elected, we would not now be about to commit British troops to action in Iraq.\" During the debate, it was stated that the Attorney General had advised that the war was legal under previous UN Resolutions.\nIn December 2002, a representative of the head of Iraqi Intelligence, the General Tahir Jalil Habbush al-Tikriti, contacted former Central Intelligence Agency Counterterrorism Department head Vincent Cannistraro stating that Saddam \"knew there was a campaign to link him to 11 September and prove he had weapons of mass destruction (WMDs).\" Cannistraro further added that \"the Iraqis were prepared to satisfy these concerns. I reported the conversation to senior levels of the state department and I was told to stand aside and they would handle it.\" Cannistraro stated that the offers made were all \"killed\" by the George W. Bush administration because they allowed Saddam to remain in power, an outcome viewed as unacceptable. It has been suggested that Saddam Hussein was prepared to go into exile if allowed to keep US$1 billion.\nEgyptian president Hosni Mubarak's national security advisor, Osama El-Baz, sent a message to the U.S. State Department that the Iraqis wanted to discuss the accusations that the country had weapons of mass destruction and ties with Al-Qaeda. Iraq also attempted to reach the U.S. through the Syrian, French, German, and Russian intelligence services.\nIn January 2003, Lebanese-American Imad Hage met with Michael Maloof of the U.S. Department of Defense's Office of Special Plans. Hage, a resident of Beirut, had been recruited by the department to assist in the war on terror. He reported that Mohammed Nassif, a close aide to Syrian president Bashar al-Assad, had expressed frustrations about the difficulties of Syria contacting the United States, and had attempted to use him as an intermediary. Maloof arranged for Hage to meet with civilian Richard Perle, then head of the Defense Policy Board.\nIn January 2003, Hage met with the chief of Iraqi intelligence's foreign operations, Hassan al-Obeidi. Obeidi told Hage that Baghdad did not understand why they were targeted and that they had no WMDs. He then made the offer for Washington to send in 2000 FBI agents to confirm this. He additionally offered petroleum concessions but stopped short of having Saddam give up power, instead suggesting that elections could be held in two years. Later, Obeidi suggested that Hage travel to Baghdad for talks; he accepted.\nLater that month, Hage met with General Habbush and Iraqi Deputy Prime Minister Tariq Aziz. He was offered top priority to U.S. firms in oil and mining rights, UN-supervised elections, U.S. inspections (with up to 5,000 inspectors), to have al-Qaeda agent Abdul Rahman Yasin (in Iraqi custody since 1994) handed over as a sign of good faith, and to give \"full support for any U.S. plan\" in the Israeli–Palestinian peace process. They also wished to meet with high-ranking U.S. officials. On 19 February, Hage faxed Maloof his report of the trip. Maloof reports having brought the proposal to Jaymie Duran. 
"""
    
    # Example 1: Compute all metrics
    print("\n" + "="*60)
    print("EXAMPLE 1: Full Analysis")
    print("="*60)
    
    print("\nComputing all metrics...")
    results = metrics.compute_all(text)
    
    # Save results
    save_results(results, "demo_results.pkl")
    

    
   


if __name__ == "__main__":
    main()